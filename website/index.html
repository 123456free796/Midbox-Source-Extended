<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='shortcut icon' type='image/x-icon' href='./favicon.png' />
    <!-- CDN for jQuery and select2 -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Midbox</title>
    <meta name="application-name" content="Midbox" />
    <meta name="apple-mobile-web-app-title" content="Midbox">
	<meta name="description" content="Midbox is an online tool for sketching and sharing instrumental music." />
    <meta name="keywords" content="chiptune, instrumental, music, song, melody, composition, tool, free, square wave, NES, NSF, Midbox, midbox, JummBox, jummbox, BeepBox, beepbox" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="theme-color" content="#444" />
    <meta name="msapplication-TileColor" content="#603cba" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    <meta name="format-detection" content="telephone=no" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/icon_32.png" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <link href="https://fonts.googleapis.com/css?family=B612" rel="stylesheet" media="none" onload="if (this.media != 'all') this.media='all';" /> <!-- this is a trick to load CSS asynchronously. -->
    <style type="text/css">

        html {
            background: var(--page-margin, black);
            overflow-x: hidden;
            font-size: large;
            font-family: 'B612', sans-serif;
            line-height: 1.3;
            color: var(--primary-text, white);
        }

        body {
            margin: auto;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            align-content: center;
        }

        #beepboxEditorContainer {
            min-height: 645px;
            overflow: auto;
            background: var(--editor-background, black);
            width: 100%;
			max-width: 710px;
            padding-left: 30px;
            padding-right: 30px;
        }

        #text-content {
            overflow: auto;
            background: var(--editor-background, black);
            width: 100%;
			max-width: 710px;
            padding-left: 30px;
            padding-right: 30px;
        }

        h1 {
            font-size: 1.7rem;
            text-align: center;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            -webkit-text-stroke-width: 0;
            color: var(--mod-title, var(--link-accent, rgb(61, 33, 216)));
        }

        h2 {
            font-size: 1.5rem;
            text-align: center;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            -webkit-text-stroke-width: 0;
        }

        h3 {
            font-size: 1.2rem;
            text-align: center;
            margin-top: 0.35rem;
            margin-bottom: 0.5rem;
            -webkit-text-stroke-width: 0;
            color: var(--secondary-text, var(--link-accent, rgb(255, 255, 255)));
        }

        h4 {
            font-size: 1rem;
            text-align: center;
            margin-top: 0.1rem;
            margin-bottom: 0.1rem;
            -webkit-text-stroke-width: 0;
        }

        .centerDiv {
			margin: 0px auto;
		}

        a {
            color: var(--link-accent, rgb(61, 33, 216));
        }

        .donation form {
            display: inline;
        }

        .donation input[type="submit"] {
            -webkit-appearance: none;
            background: none;
            border: none;
            font-family: inherit;
            font-size: inherit;
            color: var(--link-accent, rgb(61, 33, 216));
            text-decoration: underline;
            cursor: pointer;
            padding: 0;
            margin: 0;
        }

        /* wide screen */
		@media (min-width: 711px) {
            html {
                width: 100%;
            }

            body {
                width: 100%;
            }

            .column-container {
				width: 710px;
                display: flex;
				gap: 25px;
            }

            .instructions-column {
				min-width: 0;
            }
        }

        /* narrow screen */
		@media (max-width: 710px) {
            body {
                width: 100%;
            }

            p, .donation {
                margin: 1em 0.5em;
            }

            .column-container {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>

<body>
    <div id="beepboxEditorContainer">
        <noscript>
            Sorry, Midbox requires a JavaScript-enabled browser.
        </noscript>
    </div>
    <div id="text-content">
        <section>

            <h1>
                <font>Midbox</font>
                <span id="midboxPlant" style="display: inline; color:#0c46e4e5"></span>
            </h1>
            <h3>
                <font></font>
                <span id="randomText" style="display: inline;"></span>
            </h3>
            
            <p id="introduction">
                Midbox is an online tool for sketching and sharing chiptune melodies.<br>
                This is a modification of <a href="https://jummb.us/">JummBox</a> by Jummbus.
                That in turn, is a modification of the original <a href="https://www.beepbox.co/">BeepBox</a> by John Nesky.
            </p>
            <p>
                Midbox was made by Mid. 
                It was made possible by LeoV.
                Many other credits can be found within the patch notes of each update!
            </p>
            <p>
                If you're familiar with BeepBox and JummBox, and just want to learn what Midbox does differently, then check out the info document!
                You can find the latest patch notes and important info about Midbox <a href="https://docs.google.com/document/d/1r-1FV-uNmb9fQCZP297HT2XQkoiZII7ICfmeTt16A5w/edit?usp=sharing">here</a>.
            </p>
            <p>
                There is also a forms where you can submit bug reports and give feedback/suggestions! 
                The forms can be found <a href="https://forms.gle/v6YYXCrxGYDvzYpu8">here</a>.
            </p>
            <p>
                All song data is contained in the URL at the top of your browser.
                When you make changes to the song, the URL is updated to reflect your changes.
                When you are satisfied with your song, just copy and paste the URL to save and share your song!
                Of course, there are other ways to share your song too!
                You can use "shorten song URL" found in the files menu to turn your song link that may hold thousands of characters, into a very small link consisting of only around 30.
                Pastelink is also a great way to put multiple songs in one area, or put your massive song link into a smaller link.
                While digging in the files menu, you will find exporting options available too!
                Take note that importing is currently untested, and may even be broken, and will probably remain like that for a while.
                You can choose how to export your song, whether that be by link, by mp3, wav, midi, txt, or any other way not mentioned.
                Please note that anything regarding exporting using json and importing from and to other mods and etc will most likely not be functional.
            </p>
            <!--
    <div class="donation">
        BeepBox is a passion project, and will always be free to use. If you find it valuable and have the means, any gratuity via
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
            <input type="hidden" name="cmd" value="_donations" />
            <input type="hidden" name="business" value="QZJTX9GRYEV9N" />
            <input type="hidden" name="currency_code" value="USD" />
            <input type="submit" name="submit" value="Paypal"/>
        </form>
        would be appreciated!
    </div>
    -->
        </section>

        <div class="column-container">
            <main class="instructions-column">
                <section>
                    <h2>
                        Instructions
                    </h2>
                    <p>
                        There is a grid at the top.
                        That grid is the note editor.
                        Place a note by clicking or tapping on your screen.
                        Then, go to where it says "play", and click/tap on that.
                        Midbox will then play those notes to you out loud using whatever audio device you have!
                    </p>
                    <p>
                        Notes go into patterns, and you can edit one pattern at a time.
                        Those numbered boxes at the bottom of the editor are the different patterns you can edit.
                        <span id="bar-editing">
                            Click the boxes to move to a different part of the song, or click the arrows on the currently selected box to swap which pattern is played during that part of the song.
                        </span>
                        If you are using keyboard, you can also just press a number to change the number of the pattern instantly to the pressed number.
                        Note that any patterns 33 and above will require you to go to channel settings and increase the maximum yourself.
                    </p>
                    <p>
                        Midbox can play several rows of patterns simultaneously, and each row has its own set of patterns.
                        Most rows can play melodies or harmonies, which are referred to as pitch channels, but the bottom row is for drums, or drum channels.
                        Also, who's to say that you can't make drums in the pitch channels too?
                        You can also head to those channel settings and enable mod channels, which act like a more basic automation.
                        They will be located below the drum channels and have noticably brighter colors then every other channel.
                    </p>
                    <p>
                        All song data is contained in the URL at the top of your browser.
                        When you make changes to the song, the URL is updated to reflect your changes.
                        When you are satisfied with your song, just copy and paste the URL to save and share your song!
                        You've heard this before.
                        If you ever want to share your song to the community, try joining one of BeepBox's various platforms like discord and reddit!
                    </p>

                    <div id="keyboard-instructions">
                        <p>
                            When Midbox has focus (click on its interface above), you can use these keyboard shortcuts: <br />
                        </p>
                        <ul>
                            <li><b>Spacebar</b>: play or pause the song</li>
                            <li><b>Shift Spacebar</b>: play from mouse location</li>
							<li><b>Z</b>: undo, <b>Y or Shift Z</b>: redo</li>
                            <li><b>C</b>: copy pattern from selection</li>
                            <li><b>V</b>: paste pattern into selection</li>
                            <li><b>0-9</b>: assign pattern number to selection</li>
							<li><b>Arrows</b>: move selection</li>
							<li><b>Ctrl + Arrows</b>: rearrange channels</li>
							<li><b>[ ]</b>: move playhead backward or forward</li>
							<li><b>F/H</b>: move to First or Highlighted pattern </li>
							<li><b>Shift & Drag</b>: select part of a pattern (long press on touch screen)</li>
							<li>These are just a few shortcuts, check Midbox's edit menu for more!</li>
                            <li>I will also provide a document explaining each keybind and their functions <a href="https://docs.google.com/document/d/1INYcVwx-RqjcviA_a4oXF-Sf-8XlXYT4K4SSaQ8TIvI/edit?usp=sharing">here</a>.</li>
                        </ul>
                    </div>
                    <p>
                        In the note editor, you can click and drag horizontally on a note to adjust its duration.
                        You can also click above or below an existing note to add more notes to be played simultaneously, which is called a chord.
                    </p>
                    <p>
                        ADVANCED: Drag vertically from an existing note to bend its pitch, or drag vertically from above or below the note to adjust its volume. You can perform fine volume adjustment if you hold Control while doing this!
                    </p>
                    <p>
                        ADVANCED: Click and drag on the pattern grid to make a selection. You can then press C/V to mass copy/paste parts of your song.

                    </p>
                    <p>
                        Midbox has many more features, with many more being worked on!
                        Try playing with the buttons and menus on the right side to find out what it can do!
                        You can also click on the label next to each option for a description of what it does.
                        Some features are hard to find anywhere though - for example, if your song has any modulator channels, you can hold Ctrl or Shift while the song is playing to record the movement of sliders directly! If you want to learn more tips, tricks, and best practices though, see below.
                    </p>
                    <p>
                        Want to see what people have made with Midbox, as well as other mods of BeepBox? Songs that were shared on Twitter prior to 2023-05-22 can now be browsed in <a href="https://twitter-archive.beepbox.co/" target="_blank">this interactive archive</a>!
                        Additionally, there's an active <a href="https://discord.gg/beepbox">BeepBox Discord</a> who you can share songs with and ask questions! You can also find me, Mid, hanging out in the Beepbox Discord developing this mod! Why not give me a hi!
					</p>
                </section>
                <section>
                    <h2>
                        About
                    </h2>
                    <p>
                        Midbox is developed by Mid.
                        Midbox is a mod of JummBox, which was made by Jummbus. Jummbox in turn is a mod of Beepbox.
                        BeepBox was originally developed by <a href="http://www.johnnesky.com" target="_blank">John Nesky</a>, also known as <a href="https://twitter.com/shaktool" target="_blank">Shaktool</a>. Check them out!
                    </p>
                    <p>
                        Midbox does not claim ownership over songs created with it, so original songs belong to their authors.
                    </p>
                    <p>
                        Neither Mid, Midbox, nor any other BeepMod and/or their respective developers assume responsibility for any copyrighted material played on Midbox or any similar tools. No songs are ever received, recorded, or distributed by Midbox's servers. All song data is contained in the URL after the hash (#) mark, and Midbox running inside your browser converts that data into sound waves.
                    </p>
                    <p>
                        Midbox does not collect, track, or share any user data.
                    </p>
                    <p id="offline-instructions">
                        You currently cannot download an offline version of Midbox.
                    </p>
                    <p>
                        You can download and use the <a href="https://github.com/Mid-The-Modder/Midbox-Source" target="_blank">source code</a> of Midbox under the MIT license.
                        The original BeepBox source code by John Nesky can be found <a href="https://github.com/johnnesky/beepbox" target="_blank">here</a>. It may also be used under the MIT license.
                    </p>
                </section>
            </main>
        </div>
    </div>

    <!--
    Instead of loading js beepbox editor interface directly, test for browser support.
    <script type="text/javascript" src="beepbox_editor.min.js"></script>
    -->
    <script type="text/javascript">

        // Randomize display of header
        // 1-in-10
        if (Math.floor(Math.random() * 10) == 0) {
            switch (Math.floor(Math.random() * 8)) {
                case 0:
                    document.getElementById("midboxPlant").innerHTML = "  🍂";
                    break;
                case 1:
                    document.getElementById("midboxPlant").innerHTML = "  🌿";
                    break;
                case 2:
                    document.getElementById("midboxPlant").innerHTML = "  🌺";
                    break;
                case 3:
                    document.getElementById("midboxPlant").innerHTML = "  🍃";
                    break;
                case 4: 
                    document.getElementById("midboxPlant").innerHTML = "..?";
                    break;
                case 5: 
                    document.getElementById("midboxPlant").innerHTML = "  MANIA";
                    break;
                case 6: 
                    document.getElementById("midboxPlant").innerHTML = "  |  It was an attempt...";
                    break;
                case 7: 
                    document.getElementById("midboxPlant").innerHTML = "  V0.3";
                    break;
            }
        }
        if (Math.floor(Math.random() * 1) == 0) {
            switch (Math.floor(Math.random() * 86)) {
                case 0:
                    document.getElementById("randomText").innerHTML = "Let's make a song!";
                    break;
                case 1:
                    document.getElementById("randomText").innerHTML = "Beepbox is actually just a purple circle, not a box.";
                    break;
                case 2: 
                    document.getElementById("randomText").innerHTML = "Listen to the same song for 3 hours straight!"; // Relatable
                    break;
                case 3:
                    document.getElementById("randomText").innerHTML = "Who wants some <a href=\"https://soundcloud.com/nobonoko/strawberry-cake\">strawberry cake</a>?";
                    break;
                case 4:
                    document.getElementById("randomText").innerHTML = "Check out the <a href=\"https://www.youtube.com/@beepboxradio\">Beepbox Radio</a> (usually) hosted on every Saturday at 4PM EST!";
                    break;
                case 5:
                    document.getElementById("randomText").innerHTML = "Wackybox";
                    break;
                case 6:
                    document.getElementById("randomText").innerHTML = "Remember: Skittles aren't bars.";
                    break;
                case 7:
                    document.getElementById("randomText").innerHTML = "Do you use <pdbpx as we;;?";
                    break;
                case 8:
                    document.getElementById("randomText").innerHTML = "When life gives you lemons... just throw that garbage away and make some music instead.";
                    break;
                case 9:
                    document.getElementById("randomText").innerHTML = "Join the <a href=\"https://discord.gg/fdZxm5SpAn\">Beepbox Discord</a>!";
                    break;
                case 10:
                    document.getElementById("randomText").innerHTML = "Tip: Press 'Q' on your keyboard to open the channel settings.";
                    break;
                case 11:
                    document.getElementById("randomText").innerHTML = "Tip: Press 'SHIFT' + 'L' on your keyboard to open limiter settings.";
                    break;
                case 12:
                    document.getElementById("randomText").innerHTML = "Tip: Check the description below this message for a bunch of useful sources.";
                    break;
                case 13:
                    document.getElementById("randomText").innerHTML = "Beepbox's presets are kinda lame. Try Midbox's!";
                    break;
                case 14:
                    document.getElementById("randomText").innerHTML = "Fun Fact: Midbox was planning to be named 'Bigbox' or 'Think Outside The Box'.";
                    break;
                case 15:
                    document.getElementById("randomText").innerHTML = "Thanks again to LeoV and Main for the help on all of this!";
                    break;
                case 16:
                    document.getElementById("randomText").innerHTML = "Also try <a href=\"https://ultraabox.github.io/\">Ultrabox</a>!";
                    break;
                case 17:
                    document.getElementById("randomText").innerHTML = "Spreading out your mixing volume-wise is often gonna make the mix very messy. Try spreading your instruments out with panning or by multiple different octaves instead!";
                    break;
                case 18:
                    document.getElementById("randomText").innerHTML = "Now with spanish!";
                    break;
                case 19:
                    document.getElementById("randomText").innerHTML = '"This mod is so mid."';
                    break;
                case 20:
                    document.getElementById("randomText").innerHTML = "This mod isn't meant to be impressive. It's meant to show how much I love this community!";
                    break;
                case 21:
                    document.getElementById("randomText").innerHTML = "Custom sampling will be introduced into Midbox in 2087.";
                    break;
                case 22:
                    document.getElementById("randomText").innerHTML = "Oh you like Beepbox huh? Say every feature in Beepbox and what they're for.";
                    break;
                case 23:
                    document.getElementById("randomText").innerHTML = "running out of text ideas aaaaaaaaaaaaaaa";
                    break;
                case 24:
                    document.getElementById("randomText").innerHTML = "The bite of '87.";
                    break;
                case 25:
                    document.getElementById("randomText").innerHTML = "Fun Fact: The 20th of Feburary, 2012 is when beepbox had started. Thanks Shaktool!";
                    break;
                case 26:
                    document.getElementById("randomText").innerHTML = "Why don't you try to make your own mod too?";
                    break;
                case 27:
                    document.getElementById("randomText").innerHTML = "Try to do the Beep Bishop!";
                    break;
                case 28:
                    document.getElementById("randomText").innerHTML = "The ultimate mod? Never. Just another one in the sea of the rest.";
                    break;
                case 29:
                    document.getElementById("randomText").innerHTML = "Hey, why don't you try the Midbox theme too?";
                    break;
                case 30:
                    document.getElementById("randomText").innerHTML = "Time to get excessive.";
                    break;
                case 31:
                    document.getElementById("randomText").innerHTML = "There are probably tens to hundreds of these little text things. Good luck getting them all!";
                    break;
                case 32:
                    document.getElementById("randomText").innerHTML = "Waiting for the official Beepbox Wiki.";
                    break;
                case 33:
                    document.getElementById("randomText").innerHTML = "Trying to fill the entire mod with even more presets! Of course, not even that is enough.";
                    break;
                case 34:
                    document.getElementById("randomText").innerHTML = "Don't worry, I won't force feed ya' ads.";
                    break;
                case 35:
                    document.getElementById("randomText").innerHTML = "Solarlands coming soon...";
                    break;
                case 36:
                    document.getElementById("randomText").innerHTML = "This is the 37th possible outcome when this text is generated. Insane, right?";
                    break;
                case 37:
                    document.getElementById("randomText").innerHTML = "Get creative!";
                    break;
                case 38:
                    document.getElementById("randomText").innerHTML = "Advice: Don't make music just to be good at it. That ruins the fun! Make music to enjoy it!";
                    break;
                case 39:
                    document.getElementById("randomText").innerHTML = "Tip: Swap between two tempos repeatedly using a mod channel to create swing!";
                    break;
                case 40:
                    document.getElementById("randomText").innerHTML = "A bit more professional, yet more for beginners.";
                    break;
                case 41:
                    document.getElementById("randomText").innerHTML = "Why spend money on a music program when the best ones are for free?";
                    break;
                case 42:
                    document.getElementById("randomText").innerHTML = "Evil Gang 😈";
                    break;
                case 43:
                    document.getElementById("randomText").innerHTML = "Why are you looking over here? Go back to the music!";
                    break;
                case 44:
                    document.getElementById("randomText").innerHTML = "Tip: Make music in an area that is nice an quiet. Find some space where you won't be interrupted, nor will interrupt others.";
                    break;
                case 45:
                    document.getElementById("randomText").innerHTML = "Turn the volume up! Things have only started!";
                    break;
                case 46:
                    document.getElementById("randomText").innerHTML = "Tip: Not sure on how to make an instrument? Press 'SHIFT' + 'R' on your keyboard and the program will randomly generate one for you.";
                    break;
                case 47:
                    document.getElementById("randomText").innerHTML = "Join the community!";
                    break;
                case 48:
                    document.getElementById("randomText").innerHTML = "Azur Lane theme when?";
                    break;
                case 49:
                    document.getElementById("randomText").innerHTML = "Music is a blessing.";
                    break;
                case 50:
                    document.getElementById("randomText").innerHTML = "Zoinks!";
                    break;
                case 51:
                    document.getElementById("randomText").innerHTML = "Help!: If something goes wrong, like the song corrupting for instance. Take a screenshot of the error in the dev tool menu and reach out to me via Discord!";
                    break;
                case 52:
                    document.getElementById("randomText").innerHTML = "Are ya' winnin' son?";
                    break;
                case 53:
                    document.getElementById("randomText").innerHTML = "Thanks to the dubstep yoi yoi preset, Midbox has its own category for dubstep!";
                    break;
                case 54:
                    document.getElementById("randomText").innerHTML = "If being married to a basic music program is a crime, consider me guilty.";
                    break;
                case 55:
                    document.getElementById("randomText").innerHTML = "Now with too many keybinds!";
                    break;
                case 56:
                    document.getElementById("randomText").innerHTML = "Tip: Link is too long? Consider shortening it! There is a built-in way to shorten your song into a tinyurl by pressing 'U'. You can also put your entire song link into a pastelink and shorten it like that in case tinyurl doesn't work.";
                    break;
                case 57:
                    document.getElementById("randomText").innerHTML = "You have no idea how long it took to get this language stuff taken care of. And you probably aren't even using it. What a shame.";
                    break;
                case 58:
                    document.getElementById("randomText").innerHTML = "Press start!";
                    break;
                case 59:
                    document.getElementById("randomText").innerHTML = "The best at being the worst...";
                    break;
                case 60:
                    document.getElementById("randomText").innerHTML = "Isn't it iron pick!";
                    break;
                case 61:
                    document.getElementById("randomText").innerHTML = "Mid was here.";
                    break;
                case 62:
                    document.getElementById("randomText").innerHTML = "- Removed Herobrine";
                    break;
                case 63:
                    document.getElementById("randomText").innerHTML = "Tip: Be careful making songs here. Things may break over time with upcoming updates since Midbox is still in it's BETA. Yes, BETA. Will be that way for a while.";
                    break;
                case 64:
                    document.getElementById("randomText").innerHTML = "You have lost the game!";
                    break;
                case 65:
                    document.getElementById("randomText").innerHTML = "But nobody came.";
                    break;
                case 66:
                    document.getElementById("randomText").innerHTML = "Does anyone else use the Jummbox dark theme with the small layout? No? I'm the only one?";
                    break;
                case 67:
                    document.getElementById("randomText").innerHTML = "Tip: Press '`' on your keyboard to go to the 'recover recent song' prompt. Hold 'SHIFT' while you do that to start a new song.";
                    break;
                case 68:
                    document.getElementById("randomText").innerHTML = "Pronouns please?";
                    break;
                case 69:
                    document.getElementById("randomText").innerHTML = "Only for people 18+... And below 18 too of course!";
                    break;
                case 70:
                    document.getElementById("randomText").innerHTML = "Wanna hear a bad joke? No?";
                    break;
                case 71:
                    document.getElementById("randomText").innerHTML = "Still looking for where I am supposed to add this code.";
                    break;
                case 72:
                    document.getElementById("randomText").innerHTML = "I have spent a lot of time using Beepbox. At one point, I decided to make this mod to show my passion for it.";
                    break;
                case 73:
                    document.getElementById("randomText").innerHTML = "No talking in #finished-beeps please!";
                    break;
                case 74:
                    document.getElementById("randomText").innerHTML = "There is a chance that along with this text, there will be a plant next to the mod name. Is there?";
                    break;
                case 75:
                    document.getElementById("randomText").innerHTML = "So uh... what are you starin' at?";
                    break;
                case 76:
                    document.getElementById("randomText").innerHTML = "The first mod to port the supersaw!";
                    break;
                case 77:
                    document.getElementById("randomText").innerHTML = "My autocomplete is kinda screwing me over right now...";
                    break;
                case 78:
                    document.getElementById("randomText").innerHTML = "Check out the info doc!";
                    break;
                case 79:
                    document.getElementById("randomText").innerHTML = "Hi chat";
                    break;
                case 80:
                    document.getElementById("randomText").innerHTML = "To be bored or to be board.";
                    break;
                case 81:
                    document.getElementById("randomText").innerHTML = "Have you used the percussion effect?";
                    break;
                case 82:
                    document.getElementById("randomText").innerHTML = "Who keeps pinging me.";
                    break;
                case 83:
                    document.getElementById("randomText").innerHTML = "By the time I am writing this, it is Nov 1, 2023.";
                    break;
                case 84:
                    document.getElementById("randomText").innerHTML = "Tip: Try avoiding setting all of your instrument volumes near the minimum or maximum.";
                    break;
                case 85: 
                    document.getElementById("randomText").innerHTML = "Happy 2024! Or... am I too late?";
                    break;
            }
        }

        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|android|ipad|playbook|silk/i.test(navigator.userAgent)) {
            document.getElementById("introduction").innerHTML = "Midbox is an online tool for sketching and sharing chiptune melodies. Make sure that your volume is turned up, then press the play button!";
            document.getElementById("keyboard-instructions").style.display = "none";
            document.getElementById("bar-editing").innerHTML = "Tap the boxes to move to a different part of the song, or tap on the currently selected box to swap which pattern is played during that part of the song.";
			//document.getElementById("offline-instructions").innerHTML = 'You can use BeepBox when your device is offline if you put a shortcut to BeepBox on your home screen. <ul><li>Chrome: find the "Add to Home Screen" option in the ⋮ menu.</li><li>Firefox: find the "Add Page Shortcut" option in the ⋮ menu.</li><li>Safari: find the "Add to Home Screen" option in the bookmark menu.</li></ul>';
        }

        function browserHasRequiredFeatures() {
            "use strict";
            if (window.AudioContext == undefined && window.webkitAudioContext == undefined) {
                return false;
            }

            try {
                eval("class T {}");
                eval("const a = () => 0");
                eval("for (const a of []);");
            } catch (error) {
                return false;
            }

            return true;
        }

        if (browserHasRequiredFeatures()) {
            // Go ahead and load js beepbox editor interface:
            var fileref = document.createElement("script");
            fileref.setAttribute("type", "text/javascript");
            fileref.setAttribute("src", "beepbox_editor.min.js");
            document.head.appendChild(fileref);
        } else {
            document.getElementById("beepboxEditorContainer").innerHTML = "Sorry, Midbox doesn't support your browser. Try a recent version of Chrome, Firefox, Edge, Safari, or Opera.";
        }

		// If the page was loaded with an old song version that old versions of BeepBox support,
		// update the links to the old versions so that they'll open the song.
		if (/^#[1-6]/.test(location.hash)) {
			document.getElementById("linkTo2_3").href += location.hash;
		}
		if (/^#[1-8]/.test(location.hash)) {
			document.getElementById("linkTo3_0").href += location.hash;
		}
    </script>
</body>
</html>
